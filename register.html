<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>NextStop â€” Register</title>
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
<link rel="stylesheet" href="styles.css">
</head>
<body>
<div class="login-container">
<h2>Create account</h2>
<form id="registerForm">
<input type="text" id="reg_username" class="form-control" placeholder="Username" required>
<input type="password" id="reg_password" class="form-control" placeholder="Password" required>
<button type="submit" class="btn btn-primary">Register</button>
<p id="regMsg" class="error"></p>
</form>
<p class="mt-3">Already have an account? <a href="index.html">Login</a></p>
</div>
<script>
document.getElementById('registerForm').addEventListener('submit', async function(e){
e.preventDefault();
const username = document.getElementById('reg_username').value.trim();
const password = document.getElementById('reg_password').value.trim();
const msg = document.getElementById('regMsg');
try{
const res = await fetch('http://localhost:5000/register', {
method: 'POST', headers: {'Content-Type': 'application/json'},
body: JSON.stringify({username, password})
});
const data = await res.json();
if(res.ok) {
msg.style.color = 'green'; msg.innerText = 'Registered! Redirecting to login...';
setTimeout(()=> window.location.href = 'index.html', 900);
} else {
msg.style.color = 'red'; msg.innerText = data.message || 'Registration failed';
}
} catch(err) {
msg.style.color = 'red'; msg.innerText = 'Server error: ' + err.message;
}
});
</script>
</body>
</html>